{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","services/imageApi.js","components/Loader/Loader.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Searchbar","handleSubmit","className","css","searchbar","searchForm","onSubmit","type","searchFormButton","searchFormButtonLabel","searchFormInput","name","autoFocus","placeholder","ImageGalleryItem","image","onClick","imageGalleryItem","src","webformatURL","alt","tags","imageGalleryItemImage","ImageGallery","images","onSelectImg","imageGallery","map","largeImageURL","id","Button","button","Modal","handleKeyDown","e","onClose","props","code","handleOverlayClick","target","currentTarget","window","addEventListener","this","removeEventListener","overlay","modal","width","height","Component","fetchImages","query","a","page","pixabayKEY","axios","get","response","data","hits","Spinner","spinnerWraper","spinner","color","App","state","selectedImg","status","preventDefault","elements","value","toLowerCase","trim","setState","toast","error","position","handleButtonClick","prevState","console","log","onModalClose","prevProps","length","Error","scrollTo","top","document","documentElement","scrollHeight","behavior","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1813081a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3yU8C\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__GSNDh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1Y5sF\",\"modal\":\"Modal_modal__2nI7j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinnerWraper\":\"Loader_spinnerWraper__3HAM0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__dA4d_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2KF1k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__31Ppl\",\"searchForm\":\"Searchbar_searchForm__1G-6X\",\"searchFormButton\":\"Searchbar_searchFormButton__278qt\",\"searchFormButton-label\":\"Searchbar_searchFormButton-label__1W2FD\",\"searchFormInput\":\"Searchbar_searchFormInput__1Cq4S\"};","import PropTypes from 'prop-types';\r\nimport css from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ handleSubmit }) => {\r\n    return (\r\n        <header className={css.searchbar}>\r\n            <form className={css.searchForm} onSubmit={handleSubmit}>\r\n                <button type=\"submit\" className={css.searchFormButton}>\r\n                    <span className={css.searchFormButtonLabel}></span>\r\n                </button>\r\n\r\n                <input\r\n                    className={css.searchFormInput}\r\n                    type=\"text\"\r\n                    name=\"query\"\r\n                    // autocomplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                />\r\n            </form>\r\n        </header>\r\n    );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  handleSubmit: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Searchbar;","import PropTypes from 'prop-types';\r\nimport css from './ImageGalleryItem.module.css';\r\n\r\n\r\nconst ImageGalleryItem = ({ image, onClick }) =>\r\n<li className={css.imageGalleryItem}>\r\n        <img src={image.webformatURL} alt={image.tags} className={css.imageGalleryItemImage} onClick={onClick} />\r\n</li>\r\n\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.object.isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ImageGalleryItem;","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem'\r\nimport css from './ImageGallery.module.css'\r\n\r\n\r\nconst ImageGallery = ({ images, onSelectImg }) =>\r\n  <ul className={css.imageGallery}>\r\n        {images.map(image => {\r\n            return (\r\n              <ImageGalleryItem key={image.id} image={image} onClick={()=> onSelectImg(image.largeImageURL, image.tags)}/>)}\r\n        )}\r\n  </ul>\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onSelectImg: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ImageGallery;","import PropTypes from 'prop-types';\r\nimport css from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n    return (<button type=\"button\" className={css.button} onClick={onClick}>Load more</button>);\r\n}\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Button;","import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport css from './Modal.module.css'\r\n\r\n\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    image: PropTypes.objectOf(PropTypes.string).isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    const { onClose } = this.props;\r\n\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = (e) => {\r\n    const { onClose } = this.props;\r\n\r\n    if (e.target !== e.currentTarget) {\r\n      return;\r\n    }\r\n    onClose();\r\n  };\r\n\r\n    render() {\r\n        const { image } = this.props;\r\n        return (\r\n            <div className={css.overlay} onClick={this.handleOverlayClick}>\r\n                <div className={css.modal}>\r\n                     <img src={image.src} alt={image.alt} width='800' height='600'/>\r\n                 </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import axios from \"axios\";\n\nconst fetchImages = async (query, page = 1) => {\n  const pixabayKEY = \"21757079-036beeeb18b1a04124bd9f213\";\n  const response = await axios.get(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${pixabayKEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  return response.data.hits;\n};\n\nexport default fetchImages;\n","import Loader from \"react-loader-spinner\";\r\nimport css from \"./Loader.module.css\"\r\n\r\nconst Spinner = () => {\r\n    return (\r\n        <div className={css.spinnerWraper}><Loader className={css.spinner}\r\n            type=\"Oval\"\r\n            color=\"#3f51b5\"\r\n            height={50}\r\n            width={50}\r\n        />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Spinner;","import React, { Component } from \"react\";\n\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\nimport fetchImages from \"./services/imageApi\";\nimport Spinner from \"./components/Loader/Loader\";\nimport toast, { Toaster } from \"react-hot-toast\";\n\nimport \"./App.css\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    page: 1,\n    query: \"\",\n    selectedImg: null,\n    status: \"IDLE\",\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const query = e.target.elements.query.value.toLowerCase();\n\n    if (!query.trim()) {\n      this.setState({\n        page: 1,\n        status: \"IDLE\",\n      });\n      return toast.error(\"Enter query\", { position: \"top-right\" });\n    }\n\n    if (this.state.query === query) {\n      return;\n    }\n\n    this.setState({\n      query: query,\n      status: \"LOADING\",\n      page: 1,\n      images: [],\n    });\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n    if (\n      prevState.query !== this.state.query ||\n      prevState.page !== this.state.page\n    ) {\n      try {\n        const images = await fetchImages(query, page);\n\n        if (!images.length) {\n          throw new Error();\n        }\n\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          status: \"RESOLVED\",\n        }));\n      } catch (err) {\n        console.log(\"неверный запрос\");\n        toast.error(\"wrong query\", { position: \"top-right\" });\n        this.setState({ status: \"ERROR\" });\n        return;\n      }\n    }\n\n    this.state.page > 1 &&\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n  }\n\n  handleButtonClick = () => {\n    return (\n      this.setState((prevState) => ({\n        page: prevState.page + 1,\n        status: \"LOADING\",\n      })),\n      console.log(this.state.page)\n    );\n  };\n\n  onSelectImg = (src, alt) => {\n    this.setState({ selectedImg: { src, alt } });\n    console.log(src);\n  };\n\n  onModalClose = () => {\n    this.setState({ selectedImg: null });\n  };\n\n  render() {\n    const { images, status } = this.state;\n\n    if (status === \"IDLE\") {\n      return (\n        <>\n          <Searchbar handleSubmit={this.handleSubmit} />\n          <Toaster />\n        </>\n      );\n    }\n\n    if (status === \"LOADING\") {\n      return (\n        <>\n          <Searchbar handleSubmit={this.handleSubmit} />\n          <Spinner />\n        </>\n      );\n    }\n\n    if (status === \"RESOLVED\") {\n      return (\n        <div className=\"App\">\n          <Searchbar handleSubmit={this.handleSubmit} />\n          <ImageGallery images={images} onSelectImg={this.onSelectImg} />\n          <Button onClick={this.handleButtonClick} />\n          {this.state.selectedImg && (\n            <Modal image={this.state.selectedImg} onClose={this.onModalClose} />\n          )}\n        </div>\n      );\n    }\n    if (status === \"ERROR\") {\n      return (\n        <>\n          <Searchbar handleSubmit={this.handleSubmit} />\n          <Toaster />\n        </>\n      );\n    }\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}